<!-- NAVBAR COMPONENT -->
<header class="fixed top-0 w-full bg-neutral-50/80 backdrop-blur-xl border-b border-neutral-200/50 z-40" data-reveal="" style="opacity: 1; transform: translateY(0px);">
  <nav class="max-w-8xl mx-auto flex items-center justify-between px-8 py-6">
    <div class="flex items-center">
      <a href="#" class="text-2xl font-serif font-medium tracking-tight">FoodTruck</a>
    </div>
    <div class="hidden md:flex items-center gap-8 text-sm font-medium">
      <a href="#" class="relative group">
        <span class="transition-colors duration-300 hover:text-neutral-600">Home</span>
        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-black transition-all duration-300 group-hover:w-full"></span>
      </a>
      <a href="#" class="relative group">
        <span class="transition-colors duration-300 hover:text-neutral-600">Store</span>
        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-black transition-all duration-300 group-hover:w-full"></span>
      </a>
      <a href="#" class="relative group">
        <span class="transition-colors duration-300 hover:text-neutral-600">Contact Us</span>
        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-black transition-all duration-300 group-hover:w-full"></span>
      </a>
      <a href="#" class="relative group">
        <span class="transition-colors duration-300 hover:text-neutral-600">Track Orders</span>
        <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-black transition-all duration-300 group-hover:w-full"></span>
      </a>
    </div>
    <div class="flex items-center gap-6">
      <button class="relative group">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform duration-300 group-hover:scale-110">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.34-4.34"></path>
        </svg>
      </button>
      <button class="relative group" id="cart">
        <div class="bg-white rounded-full p-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform duration-300 group-hover:scale-110">
            <path d="M16 10a4 4 0 0 1-8 0"></path>
            <path d="M3.103 6.034h17.794"></path>
            <path d="M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z"></path>
          </svg>
        </div>
        <span id="cart-badge" class="absolute -top-2 -right-2 bg-emerald-500 text-white text-xs font-semibold w-4 h-4 rounded-full flex items-center justify-center">0</span>
      </button>
      <a href="#" class="relative group" id="admin">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 transition-transform duration-300 group-hover:scale-110">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </a>
      <!-- Hamburger Menu Button -->
      <button class="md:hidden flex flex-col items-center justify-center w-6 h-6 space-y-1" id="hamburger-btn">
        <span class="block w-6 h-0.5 bg-black transition-all duration-300 ease-in-out hamburger-line-1"></span>
        <span class="block w-6 h-0.5 bg-black transition-all duration-300 ease-in-out hamburger-line-2"></span>
        <span class="block w-6 h-0.5 bg-black transition-all duration-300 ease-in-out hamburger-line-3"></span>
      </button>
    </div>
  </nav>
  
  <!-- Mobile Menu Overlay -->
  <div class="md:hidden fixed top-0 left-0 w-full h-full bg-neutral-50/95 backdrop-blur-xl transform -translate-x-full transition-transform duration-300 ease-in-out z-50" id="mobile-menu">
    <!-- Close Button -->
    <button class="absolute top-8 right-8 w-8 h-8 flex items-center justify-center" id="mobile-menu-close">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
    
    <!-- Mobile Menu Content -->
    <div class="flex flex-col items-center justify-center h-full gap-8 text-lg font-medium">
      <a href="#" class="text-neutral-800 hover:text-neutral-600 transition-colors duration-300 mobile-menu-item text-neutral-900 font-semibold">Home</a>
      <a href="#" class="text-neutral-800 hover:text-neutral-600 transition-colors duration-300 mobile-menu-item">Store</a>
      <a href="#" class="text-neutral-800 hover:text-neutral-600 transition-colors duration-300 mobile-menu-item">Contact Us</a>
      <a href="#" class="text-neutral-800 hover:text-neutral-600 transition-colors duration-300 mobile-menu-item">Track Orders</a>
    </div>
  </div>
</header>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var cartBtn = document.getElementById('cart');
    var badge = document.getElementById('cart-badge');
    var hamburgerBtn = document.getElementById('hamburger-btn');
    var mobileMenu = document.getElementById('mobile-menu');
    var mobileMenuClose = document.getElementById('mobile-menu-close');
    var adminBtn = document.getElementById('admin');
    var mobileMenuOpen = false;
    
    if (cartBtn) {
      cartBtn.onclick = function() {
        window.location.href = 'cart.html';
      };
    }
    
    // Admin button authentication check
    if (adminBtn) {
      adminBtn.onclick = function(e) {
        e.preventDefault();
        try {
          const auth = JSON.parse(localStorage.getItem('adminAuth') || '{}');
          if (auth.authenticated) {
            const expiryTime = new Date(auth.expiryTime);
            if (new Date() <= expiryTime) {
              window.location.href = 'admin.html';
            } else {
              localStorage.removeItem('adminAuth');
              window.location.href = 'login.html';
            }
          } else {
            window.location.href = 'login.html';
          }
        } catch {
          window.location.href = 'login.html';
        }
      };
    }
    
    function updateCartBadge() {
      const count = Number(localStorage.getItem('cartCount') || 0);
      if (badge) {
        badge.textContent = count;
        badge.style.display = count > 0 ? 'flex' : 'none';
      }
    }
    
    function toggleMobileMenu() {
      const hamburgerLines = document.querySelectorAll('.hamburger-line-1, .hamburger-line-2, .hamburger-line-3');
      
      if (mobileMenuOpen) {
        mobileMenu.classList.add('-translate-x-full');
        mobileMenu.classList.remove('translate-x-0');
        hamburgerLines[0].style.transform = 'rotate(0deg) translateY(0px)';
        hamburgerLines[1].style.opacity = '1';
        hamburgerLines[2].style.transform = 'rotate(0deg) translateY(0px)';
        document.body.classList.remove('mobile-menu-open');
      } else {
        mobileMenu.classList.remove('-translate-x-full');
        mobileMenu.classList.add('translate-x-0');
        hamburgerLines[0].style.transform = 'rotate(45deg) translateY(7px)';
        hamburgerLines[1].style.opacity = '0';
        hamburgerLines[2].style.transform = 'rotate(-45deg) translateY(-7px)';
        document.body.classList.add('mobile-menu-open');
      }
      mobileMenuOpen = !mobileMenuOpen;
    }
    
    function closeMobileMenu() {
      const hamburgerLines = document.querySelectorAll('.hamburger-line-1, .hamburger-line-2, .hamburger-line-3');
      
      mobileMenu.classList.add('-translate-x-full');
      mobileMenu.classList.remove('translate-x-0');
      hamburgerLines[0].style.transform = 'rotate(0deg) translateY(0px)';
      hamburgerLines[1].style.opacity = '1';
      hamburgerLines[2].style.transform = 'rotate(0deg) translateY(0px)';
      document.body.classList.remove('mobile-menu-open');
      mobileMenuOpen = false;
    }
    
    if (hamburgerBtn) {
      hamburgerBtn.addEventListener('click', toggleMobileMenu);
    }
    
    if (mobileMenuClose) {
      mobileMenuClose.addEventListener('click', closeMobileMenu);
    }
    
    // Close mobile menu when clicking on menu items
    document.querySelectorAll('.mobile-menu-item').forEach(item => {
      item.addEventListener('click', closeMobileMenu);
    });
    
    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const isClickInside = hamburgerBtn.contains(event.target) || mobileMenu.contains(event.target);
      
      if (mobileMenuOpen && !isClickInside) {
        closeMobileMenu();
      }
    });
    
    updateCartBadge();
    window.addEventListener('cartUpdated', updateCartBadge);
    window.addEventListener('storage', function(e) {
      if (e.key === 'cartCount') updateCartBadge();
    });
  });
</script> 