<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Store Menu â€¢ FoodTruck</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter','ui-sans-serif','system-ui'],
            serif: ['Fraunces','ui-serif','Georgia']
          },
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
            'scale-in': 'scaleIn 0.6s ease-out forwards'
          },
          keyframes: {
            float: {
              '0%, 100%': { transform: 'translateY(0px)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            scaleIn: {
              '0%': { opacity: '0', transform: 'scale(0.9)' },
              '100%': { opacity: '1', transform: 'scale(1)' }
            }
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Fraunces:opsz,wght@9..144,400;9..144,500;9..144,600&display=swap" rel="stylesheet">
</head>
<body class="bg-neutral-50 text-neutral-900 antialiased overflow-x-hidden" style="padding-top: 96px;">
  <!-- CURSOR FOLLOWER -->
  <div id="cursor" class="fixed w-6 h-6 bg-black/20 rounded-full pointer-events-none z-50 mix-blend-difference transition-all duration-300 ease-out"></div>
  
  <!-- NAVBAR COMPONENT -->
  <foodtruck-navbar active="store" cart="0"></foodtruck-navbar>

  <!-- WELCOME MESSAGE -->
  <section class="relative pt-32 pb-16 bg-gradient-to-br from-amber-50 via-neutral-50 to-orange-50" data-reveal="">
    <div class="max-w-6xl mx-auto px-8 text-center">
      <div class="mb-8">
        <h1 class="text-5xl lg:text-6xl font-serif font-medium mb-4">
          All You Can
          <span class="relative">
            Eat
            <div class="absolute -bottom-2 left-0 w-full h-1 bg-orange-500 rounded-full transform -skew-x-12"></div>
          </span>
        </h1>
        <p class="text-xl text-neutral-700 mb-6">We're glad you're here!</p>
        <p class="text-lg text-neutral-600 max-w-2xl mx-auto leading-relaxed">
          Browse our delicious menu and order your favorites. Enjoy fresh, flavorful meals any time of day!
        </p>
      </div>
    </div>
  </section>
  
  <!-- FILTER BAR -->
  <section class="bg-neutral-50/90 backdrop-blur-xl border-y border-neutral-200/50" data-reveal="">
    <div class="max-w-8xl mr-auto ml-auto pt-6 pr-8 pb-6 pl-8">
      <div class="flex items-center justify-between flex-wrap gap-4">
        <div class="flex items-center gap-6">
          <h2 class="text-lg font-serif font-medium">Filter &amp; Discover</h2>
          <span class="text-sm opacity-60">28 menu items</span>
        </div>
        <div class="flex items-center gap-3 flex-wrap">
          <div class="relative">
            <button data-dropdown-toggle="cat-dd" class="group flex items-center gap-2 px-5 py-3 bg-white border border-neutral-200 rounded-full text-sm font-medium hover:border-neutral-300 hover:shadow-md transition-all duration-300">
              <span>Category</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-lucide="chevron-down" class="lucide lucide-chevron-down w-4 h-4 transition-transform duration-300 group-hover:rotate-180"><path d="m6 9 6 6 6-6"></path></svg>
            </button>
            <div id="cat-dd" class="hidden absolute z-[9999] mt-2 w-48 bg-white rounded-2xl shadow-xl border border-neutral-200 p-2">
              <a href="#" class="block px-4 py-3 rounded-xl hover:bg-neutral-100 text-sm transition-colors">Breakfast</a>
              <a href="#" class="block px-4 py-3 rounded-xl hover:bg-neutral-100 text-sm transition-colors">Lunch</a>
              <a href="#" class="block px-4 py-3 rounded-xl hover:bg-neutral-100 text-sm transition-colors">Supper</a>
            </div>
          </div>
          <div class="relative">
            <button data-dropdown-toggle="col-dd" class="group flex items-center gap-2 px-5 py-3 bg-orange-50 border border-orange-200 rounded-full text-sm font-medium hover:bg-orange-100 transition-all duration-300">
              <span class="flex items-center gap-2">
                <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                Spicy
              </span>
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-lucide="chevron-down" class="lucide lucide-chevron-down w-4 h-4 transition-transform duration-300 group-hover:rotate-180"><path d="m6 9 6 6 6-6"></path></svg>
            </button>
            <div id="col-dd" class="hidden absolute z-[9999] mt-2 w-44 bg-white rounded-2xl shadow-xl border border-neutral-200 p-2">
              <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-neutral-100 text-sm transition-colors">
                <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                Spicy Level
              </a>
              <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-neutral-100 text-sm transition-colors">
                <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                Vegetarian
              </a>
              <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-neutral-100 text-sm transition-colors">
                <span class="w-3 h-3 bg-blue-500 rounded-full"></span>
                Gluten Free
              </a>
            </div>
          </div>
          <div class="relative">
            <input type="text" placeholder="Search menu items..." class="w-64 border border-neutral-200 rounded-full py-3 pl-5 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-300 transition-all duration-300">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-lucide="search" class="lucide lucide-search w-4 h-4 absolute right-4 top-3.5 text-neutral-400"><path d="m21 21-4.34-4.34"></path><circle cx="11" cy="11" r="8"></circle></svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PRODUCTS (EXPANDED MENU) -->
  <section class="max-w-8xl mx-auto px-8 py-16" data-reveal="" id="breakfast">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-16">
      <!-- Collection Info -->
      <div class="lg:col-span-1">
        <div class="sticky top-40">
          <div class="mb-6">
            <span class="text-xs tracking-[0.2em] uppercase text-neutral-400 font-medium">/01 Menu</span>
            <h2 class="text-4xl font-serif font-medium leading-tight mt-2 mb-4">Breakfast</h2>
            <p class="text-neutral-600 leading-relaxed">Explore our breakfast menu. Every bite is made with fresh ingredients and comforting flavors. Start your day right with your favorites or discover something new!</p>
          </div>
          <div class="space-y-4 mb-8">
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Available items</span>
              <span class="font-medium">4</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Price range</span>
              <span class="font-medium">$8.99 - $11.99</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Portion sizes</span>
              <span class="font-medium">Regular - Large</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Product Grid (Expanded) -->
      <div class="lg:col-span-3 grid grid-cols-2 xl:grid-cols-3 gap-4 md:gap-8" id="breakfast-products">
        <!-- Breakfast products will be rendered here by JS -->
      </div>
    </div>
  </section>
  <section class="max-w-8xl mx-auto px-8 py-16" data-reveal="" id="lunch">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-16">
      <!-- Collection Info -->
      <div class="lg:col-span-1">
        <div class="sticky top-40">
          <div class="mb-6">
            <span class="text-xs tracking-[0.2em] uppercase text-neutral-400 font-medium">/02 Menu</span>
            <h2 class="text-4xl font-serif font-medium leading-tight mt-2 mb-4">Lunch</h2>
            <p class="text-neutral-600 leading-relaxed">Refresh your midday with dishes made fresh and full of taste. Whether classic or new, we've got your lunch covered!</p>
          </div>
          <div class="space-y-4 mb-8">
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Available items</span>
              <span class="font-medium">8</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Price range</span>
              <span class="font-medium">$10.99 - $14.99</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Portion sizes</span>
              <span class="font-medium">Regular - Large</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Product Grid (Expanded) -->
      <div class="lg:col-span-3 grid grid-cols-2 xl:grid-cols-3 gap-4 md:gap-8" id="lunch-products">
        <!-- Lunch products will be rendered here by JS -->
      </div>
    </div>
  </section>
  <section class="max-w-8xl mx-auto px-8 py-16" data-reveal="" id="dinner">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-16">
      <!-- Collection Info -->
      <div class="lg:col-span-1">
        <div class="sticky top-40">
          <div class="mb-6">
            <span class="text-xs tracking-[0.2em] uppercase text-neutral-400 font-medium">/03 Menu</span>
            <h2 class="text-4xl font-serif font-medium leading-tight mt-2 mb-4">Dinner</h2>
            <p class="text-neutral-600 leading-relaxed">Unwind with our dinner menu. Rich flavors and fresh ingredients for the perfect evening meal!</p>
          </div>
          <div class="space-y-4 mb-8">
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Available items</span>
              <span class="font-medium">8</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Price range</span>
              <span class="font-medium">$15.99 - $24.99</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Portion sizes</span>
              <span class="font-medium">Regular - Large</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Product Grid (Expanded) -->
      <div class="lg:col-span-3 grid grid-cols-2 xl:grid-cols-3 gap-4 md:gap-8" id="dinner-products">
        <!-- Dinner products will be rendered here by JS -->
      </div>
    </div>
  </section>
  <section class="max-w-8xl mx-auto px-8 py-16" data-reveal="" id="complements">
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-16">
      <!-- Collection Info -->
      <div class="lg:col-span-1">
        <div class="sticky top-40">
          <div class="mb-6">
            <span class="text-xs tracking-[0.2em] uppercase text-neutral-400 font-medium">/04 Menu</span>
            <h2 class="text-4xl font-serif font-medium leading-tight mt-2 mb-4">Complements</h2>
            <p class="text-neutral-600 leading-relaxed">Pair your meal with something extraâ€”our sides are full of flavor and made fresh!</p>
          </div>
          <div class="space-y-4 mb-8">
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Available items</span>
              <span class="font-medium">8</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Price range</span>
              <span class="font-medium">$4.99 - $8.99</span>
            </div>
            <div class="flex items-center justify-between text-sm">
              <span class="text-neutral-500">Portion sizes</span>
              <span class="font-medium">Regular - Large</span>
            </div>
          </div>
        </div>
      </div>
      <!-- Product Grid (Expanded) -->
      <div class="lg:col-span-3 grid grid-cols-2 xl:grid-cols-3 gap-4 md:gap-8" id="complements-products">
        <!-- Complements products will be rendered here by JS -->
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-neutral-900 text-white rounded-t-3xl mt-16">
    <div class="max-w-8xl mx-auto px-8 py-16">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
        <div>
          <div class="mb-6">
            <div id="footer-truck-container"></div>
          </div>
          <h3 class="text-2xl font-serif font-medium mb-6">FoodTruck</h3>
          <p class="text-neutral-400 leading-relaxed mb-6">Authentic street food made with fresh ingredients and bold flavors. Quality that satisfies your hunger.</p>
          <div class="flex items-center gap-4">
            <button class="p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram w-5 h-5"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"></line></svg>
            </button>
            <button class="p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter w-5 h-5"><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg>
            </button>
            <button class="p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook w-5 h-5"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
            </button>
          </div>
        </div>
        <div>
          <h4 class="font-medium mb-4">Menu</h4>
          <div class="space-y-2 text-neutral-400">
            <a href="#" class="block hover:text-white transition-colors">Breakfast</a>
            <a href="#" class="block hover:text-white transition-colors">Lunch</a>
            <a href="#" class="block hover:text-white transition-colors">Supper</a>
            <a href="#" class="block hover:text-white transition-colors">Daily Specials</a>
          </div>
        </div>
        <div>
          <h4 class="font-medium mb-4">Support</h4>
          <div class="space-y-2 text-neutral-400">
            <a href="#" class="block hover:text-white transition-colors">Track Order</a>
            <a href="#" class="block hover:text-white transition-colors">Allergen Info</a>
                                <a href="contact.html" class="block hover:text-white transition-colors">Contact Us</a>
            <a href="#" class="block hover:text-white transition-colors">FAQ</a>
          </div>
        </div>
        <div>
          <h4 class="font-medium mb-4">Company</h4>
          <div class="space-y-2 text-neutral-400">
            <a href="#" class="block hover:text-white transition-colors">About Us</a>
            <a href="#" class="block hover:text-white transition-colors">Locations</a>
            <a href="#" class="block hover:text-white transition-colors">Catering</a>
            <a href="#" class="block hover:text-white transition-colors">Partnerships</a>
          </div>
        </div>
      </div>
      <div class="border-t border-neutral-800 pt-8 flex flex-col md:flex-row items-center justify-between">
        <p class="text-neutral-400 text-sm">Â© 2024 FoodTruck. All rights reserved.</p>
        <div class="flex items-center gap-8 text-sm text-neutral-400 mt-4 md:mt-0">
          <a href="#" class="hover:text-white transition-colors">Privacy Policy</a>
          <a href="#" class="hover:text-white transition-colors">Terms of Service</a>
          <a href="#" class="hover:text-white transition-colors">Cookie Policy</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="navbar.js"></script>
  <script src="foodtruck-navbar.js"></script>
  <script src="user.js"></script>
  <script src="products.js"></script>
  <script src="cart.js"></script>
  <script>
    // Initialize navbar with Store as active
    document.addEventListener('DOMContentLoaded', function() {
      // Navbar is now provided by <foodtruck-navbar> custom element
      const navElem = document.querySelector('foodtruck-navbar');
      const navbar = navElem ? navElem.navbar : null;

      // Override navbar event handlers
      navbar.onSearchClick = function() {
        console.log('Search functionality triggered!');
        // Add your search logic here
      };

      navbar.onCartClick = function() {
        console.log('Cart opened!');
        // Add your cart logic here
      };

      navbar.onUserClick = function() {
        console.log('User profile clicked!');
        // Add your user profile logic here
      };

      navbar.onMenuItemClick = function(item, index, event) {
        console.log(`Navigating to: ${item.text}`);
        // Add your navigation logic here
      };

      // Truck loader in hero
      createTruckLoader({ 
        containerId: 'hero-truck-container',
        truckColor: '#FF6B35',
        windowColor: '#FFD93D',
        showLampPost: true
      });
      // Truck loader in footer
      createTruckLoader({ 
        containerId: 'footer-truck-container',
        truckColor: '#FF6B35',
        windowColor: '#FFD93D',
        showLampPost: false,
        size: 'small'
      });
             // Lucide icons
       lucide.createIcons();
       
       // Cursor follower
       const cursor = document.getElementById('cursor');
       document.addEventListener('mousemove', (e) => {
         cursor.style.left = e.clientX + 'px';
         cursor.style.top = e.clientY + 'px';
       });
       
       // Reveal animations on scroll
       const revealElements = document.querySelectorAll('[data-reveal]');
       const observer = new IntersectionObserver((entries) => {
         entries.forEach(entry => {
           if (entry.isIntersecting) {
             entry.target.style.opacity = '1';
             entry.target.style.transform = 'translateY(0)';
           }
         });
       }, { threshold: 0.1 });
       
       revealElements.forEach(el => observer.observe(el));
       
       // Smooth scrolling for anchor links
       document.querySelectorAll('a[href^="#"]').forEach(anchor => {
         anchor.addEventListener('click', function (e) {
           e.preventDefault();
           const target = document.querySelector(this.getAttribute('href'));
           if (target) {
             target.scrollIntoView({ behavior: 'smooth' });
           }
         });
       });
     });

    // --- Product rendering and add-to-cart logic ---
    function renderProductsByCategory(category, containerId) {
      const products = getProducts().filter(product => product.category === category);
      const container = document.getElementById(containerId);
      if (!container) return;
      
      if (!products.length) {
        container.innerHTML = '<p class="text-neutral-500">No products available in this category.</p>';
        return;
      }
      
      let html = '';
      products.forEach(product => {
        html += `<div class="group border rounded-2xl p-4 bg-neutral-50 flex flex-col">
          <div class="relative overflow-hidden bg-neutral-100 rounded-3xl mb-4">
            <div class="aspect-[3/4]">
              <img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
            </div>
          </div>
          <div class="px-2 flex-1 flex flex-col justify-between">
            <div>
              <h3 class="font-medium mb-2">${product.name}</h3>
              <span class="text-sm text-neutral-500 block mb-2">${product.category}</span>
              <span class="text-lg font-serif font-medium">$${product.price.toFixed(2)}</span>
            </div>
            <button class="add-to-cart-btn w-full bg-emerald-600 text-white py-2 mt-4 rounded-full font-medium hover:bg-emerald-700 transition" data-pid="${product.id}">Add to Cart</button>
          </div>
        </div>`;
      });
      
      container.innerHTML = html;
      
      // Attach event listeners to the new buttons
      container.querySelectorAll('.add-to-cart-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const pid = this.getAttribute('data-pid');
          addToCart(pid, 1);
          this.textContent = 'Added!';
          this.disabled = true;
          setTimeout(() => {
            this.textContent = 'Add to Cart';
            this.disabled = false;
          }, 1000);
        });
      });
    }

    function renderAllProducts() {
      renderProductsByCategory('Breakfast', 'breakfast-products');
      renderProductsByCategory('Lunch', 'lunch-products');
      renderProductsByCategory('Dinner', 'dinner-products');
      renderProductsByCategory('Complements', 'complements-products');
    }
    
    document.addEventListener('DOMContentLoaded', renderAllProducts);
  </script>
  <script src="truck-loader.js"></script>
</body>
</html>
